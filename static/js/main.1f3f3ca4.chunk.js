(this["webpackJsonpromi-dashboard"]=this["webpackJsonpromi-dashboard"]||[]).push([[0],{119:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);n(97);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),c=n(8),l=n.n(c),s=n(16),u=(n(103),n(24)),d=n(22),f=n(77),m=function(){function e(){Object(u.a)(this,e),this.currentTraj=0}return Object(d.a)(e,[{key:"latestTrajectory",value:function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("L1"!==t.param.map_name){e.next=4;break}return n=f[this.currentTraj++],this.currentTraj%=f.length,e.abrupt("return",JSON.parse(JSON.stringify(n)));case 4:return e.abrupt("return",{response:"trajectory",values:[],conflicts:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serverTime",value:function(e){throw new Error("Method not implemented.")}}]),e}(),v=n(37),p=n(33),b=n(32),E=n(2),h=n(36),g=n.n(h),O=n(84);function x(){for(var e=[],t=1;t<=20;t++)e.push({name:"Geth".concat(t),model:"TeRmInAtOr",mode:{mode:E.RobotMode.MODE_MOVING},location:{level_name:"L1",x:t,y:-2,yaw:.1*t%2*Math.PI,t:{sec:0,nanosec:0}},battery_percent:100,path:[],task_id:"taskA"});return{name:"SuperFleet",robots:e}}var y=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).name="fake",e}return Object(d.a)(n,[{key:"createPublisher",value:function(e,t){return{publish:g.a.log}}},{key:"subscribe",value:function(e,t,n){switch(g.a.log("subscribe:",e),e){case E.doorStates:var a={Door1:{door_name:"coe_door",current_mode:{value:E.DoorMode.MODE_OPEN},door_time:{sec:0,nanosec:0}},Door2:{door_name:"hardware_door",current_mode:{value:E.DoorMode.MODE_CLOSED},door_time:{sec:0,nanosec:0}},Door3:{door_name:"exit_door",current_mode:{value:E.DoorMode.MODE_MOVING},door_time:{sec:0,nanosec:0}}};setInterval((function(){for(var e=0,n=Object.values(a);e<n.length;e++){var r=n[e];t(r)}}),1e3);break;case E.liftStates:var r={Lift1:{lift_name:"Lift1",available_floors:["L1","L2","L3"],available_modes:new Uint8Array([E.LiftState.MODE_AGV]),current_floor:"L1",current_mode:E.LiftState.MODE_AGV,destination_floor:"L1",door_state:E.LiftState.DOOR_OPEN,lift_time:{sec:0,nanosec:0},motion_state:E.LiftState.MOTION_STOPPED,session_id:""},Lift2:{lift_name:"Lift2",available_floors:["L1","L2","L3","L4"],available_modes:new Uint8Array([E.LiftState.MODE_AGV]),current_floor:"L2",current_mode:E.LiftState.MODE_FIRE,destination_floor:"L4",door_state:E.LiftState.DOOR_CLOSED,lift_time:{sec:0,nanosec:0},motion_state:E.LiftState.MOTION_UP,session_id:""},Lift3:{lift_name:"Lift3",available_floors:["L1","L2","L3","L4"],available_modes:new Uint8Array([E.LiftState.MODE_AGV]),current_floor:"L2",current_mode:E.LiftState.MODE_AGV,destination_floor:"L3",door_state:E.LiftState.DOOR_CLOSED,lift_time:{sec:0,nanosec:0},motion_state:E.LiftState.MOTION_UP,session_id:""}};setInterval((function(){for(var e=0,n=Object.values(r);e<n.length;e++){var a=n[e];t(a)}}),1e3);break;case E.fleetStates:var o=[{name:"Fleet1",robots:[{name:"RobotA",model:"ModelA",mode:{mode:E.RobotMode.MODE_MOVING},location:{level_name:"L1",x:2,y:-5,yaw:0,t:{sec:0,nanosec:0}},battery_percent:100,path:[],task_id:"taskA"},{name:"RobotB",model:"ModelB",mode:{mode:E.RobotMode.MODE_WAITING},location:{level_name:"L1",x:12,y:-10,yaw:0,t:{sec:0,nanosec:0}},battery_percent:100,path:[],task_id:"taskB"}]},{name:"Fleet2",robots:[{name:"RobotC",model:"ModelC",mode:{mode:E.RobotMode.MODE_EMERGENCY},location:{level_name:"L2",x:4,y:-12,yaw:0,t:{sec:0,nanosec:0}},battery_percent:100,path:[],task_id:"taskC"}]},x()];setInterval((function(){var e,n=Object(v.a)(o);try{for(n.s();!(e=n.n()).done;){var a=e.value;t(a)}}catch(r){n.e(r)}finally{n.f()}}),1e3);break;case E.dispenserStates:var i={Dispenser0:{time:{sec:0,nanosec:0},guid:"Dispenser0",mode:0,request_guid_queue:[],seconds_remaining:0},Dispenser1:{time:{sec:0,nanosec:0},guid:"Dispenser1",mode:1,request_guid_queue:["Request0","Request1","Request2","Request3","Request4","Request5","Request6","Request7","Request8","Request9"],seconds_remaining:420},Dispenser2:{time:{sec:0,nanosec:0},guid:"Dispenser2",mode:2,request_guid_queue:[],seconds_remaining:0}};setInterval((function(){for(var e=0,n=Object.values(i);e<n.length;e++){var a=n[e];t(a)}}),1e3)}return{unsubscribe:function(){}}}},{key:"call",value:function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("get_building_map"!==t.service){e.next=6;break}return e.t0=E.GetBuildingMap_Response,e.next=4,Object(O.a)();case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:throw new Error("not implemented");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createService",value:function(e){throw new Error("not implemented")}},{key:"destroy",value:function(){}}]),n}(E.TransportEvents),_=n(6);function k(e){var t,n=[],a=Object(v.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=Object(_.a)(r.x,3),i=o[0],c=o[1],l=o[2],s=Object(_.a)(r.v,3),u=s[0],d=s[1],f=s[2];n.push({pose:{x:i,y:c,theta:l},velocity:{x:u,y:d,theta:f},time:r.t})}}catch(m){a.e(m)}finally{a.f()}return n}var w,C,S={transportFactory:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new y);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),trajectoryManagerFactory:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},j=n(164),D=n(179),L=n(180),M=n(56),N=n(127),R=n(130),F=n(181),I=n(182),P=(n(118),n(13)),T=n(38),A=n.n(T),B=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._dispenserStates={},e}return Object(d.a)(n,[{key:"dispenserStates",value:function(){return Object(P.a)({},this._dispenserStates)}},{key:"startSubscription",value:function(e){var t=this;e.subscribe(E.dispenserStates,(function(e){t._dispenserStates[e.guid]=e,t.emit("updated")}))}}]),n}(A.a),U=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._doorStates={},e}return Object(d.a)(n,[{key:"doorStates",value:function(){return Object(P.a)({},this._doorStates)}},{key:"startSubscription",value:function(e){var t=this;e.subscribe(E.doorStates,(function(e){t._doorStates[e.door_name]=e,t.emit("updated")}))}}]),n}(A.a),G=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fleets={},e}return Object(d.a)(n,[{key:"fleets",value:function(){return Array.from(Object.values(this._fleets))}},{key:"startSubscription",value:function(e){var t=this;e.subscribe(E.fleetStates,(function(e){t._fleets[e.name]=e,t.emit("updated")}))}}]),n}(A.a),q=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._liftStates={},e}return Object(d.a)(n,[{key:"liftStates",value:function(){return Object(P.a)({},this._liftStates)}},{key:"startSubscription",value:function(e){var t=this;e.subscribe(E.liftStates,(function(e){t._liftStates[e.lift_name]=e,t.emit("updated")}))}}]),n}(A.a);function W(){return{trajectoryAnimation:w.Follow,trajectoryAnimationSpeed:C.Normal}}!function(e){e[e.None=0]="None",e[e.Fill=1]="Fill",e[e.Follow=2]="Follow",e[e.Outline=3]="Outline"}(w||(w={})),function(e){e[e.Slow=0]="Slow",e[e.Normal=1]="Normal",e[e.Fast=2]="Fast"}(C||(C={}));var V=r.a.createContext(W()),Y=(n(119),n(19)),z=n(15),H=n(156),K=n(126),J=n(159),Q=n(184),Z=n(160),X=n(162),$=n(163),ee=n(161),te=r.a.forwardRef((function(e,t){var n=e.dispenserState,a=Object(z.a)(e,["dispenserState"]),o=ne(),i=ae();return r.a.createElement(Q.a,Object.assign({ref:t},a),r.a.createElement(Z.a,{classes:{content:o.expansionSummaryContent},expandIcon:r.a.createElement(ee.a,null)},r.a.createElement(M.a,{variant:"h5"},n.guid),r.a.createElement(M.a,{className:function(){switch(n.mode){case E.DispenserState.IDLE:return"".concat(o.dispenserLabel," ").concat(i.idle);case E.DispenserState.BUSY:return"".concat(o.dispenserLabel," ").concat(i.busy);case E.DispenserState.OFFLINE:return"".concat(o.dispenserLabel," ").concat(i.offline);default:return""}}(),variant:"button"},function(){switch(n.mode){case E.DispenserState.IDLE:return"IDLE";case E.DispenserState.BUSY:return"ONLINE";case E.DispenserState.OFFLINE:return"OFFLINE";default:return"UNKNOWN"}}())),r.a.createElement(X.a,{className:o.expansionDetail},r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"No. Queued Requests:"),r.a.createElement(M.a,{variant:"body1"},String(n.request_guid_queue.length))),r.a.createElement($.a,null),r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Request Queue ID:"),r.a.createElement(H.a,{className:o.listRoot,dense:!0},n.request_guid_queue.map((function(e){return r.a.createElement(K.a,{key:e},r.a.createElement(J.a,{primary:e}))})))),r.a.createElement($.a,null),r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Seconds Remaining:"),r.a.createElement(M.a,{variant:"body1"},String(n.seconds_remaining)))))})),ne=Object(j.a)((function(e){return{expansionSummaryContent:{alignItems:"center",justifyContent:"space-between"},expansionDetail:{flexFlow:"column"},expansionDetailLine:{display:"inline-flex",justifyContent:"space-between",padding:e.spacing(.5)},dispenserLabel:{borderRadius:e.shape.borderRadius,borderStyle:"solid",border:2,padding:5,width:"4rem",textAlign:"center"},listRoot:{position:"relative",overflow:"auto",maxHeight:100}}})),ae=Object(j.a)((function(e){var t={borderRadius:e.shape.borderRadius,borderStyle:"solid",border:2,padding:5,width:"4rem",textAlign:"center"};return{idle:Object(P.a)({},t,{borderColor:e.palette.warning.main}),busy:Object(P.a)({},t,{borderColor:e.palette.success.main}),offline:Object(P.a)({},t,{borderColor:e.palette.error.main})}}));function re(e){var t=e.spotlight,n=r.a.useRef({}),a=r.a.useState({}),o=Object(_.a)(a,2),i=o[0],c=o[1];r.a.useEffect((function(){if(t){var e=n.current[t.value];e&&(c((function(e){return Object(P.a)({},e,Object(Y.a)({},t.value,!0))})),e.scrollIntoView({behavior:"smooth"}))}}),[t]);var l=Object.keys(e.dispenserStates).map((function(t,a){var o=e.dispenserStates[t];return r.a.createElement(te,{key:o.guid,ref:function(e){return n.current[o.guid]=e},dispenserState:o,expanded:Boolean(i[o.guid]),onChange:function(e,t){return c((function(e){return Object(P.a)({},e,Object(Y.a)({},o.guid,t))}))}})}));return r.a.createElement(r.a.Fragment,null,l)}var oe=n(31),ie=n(165),ce=n(128),le=r.a.forwardRef((function(e,t){var n=e.door,a=e.doorState,o=e.enableControls,i=e.onOpenClick,c=e.onCloseClick,l=Object(z.a)(e,["door","doorState","enableControls","onOpenClick","onCloseClick"]),s=se(),u=Object(oe.a)();return r.a.createElement(Q.a,Object.assign({ref:t},l),r.a.createElement(Z.a,{classes:{content:s.expansionSummaryContent},expandIcon:r.a.createElement(ee.a,null)},r.a.createElement(M.a,{variant:"h5"},n.name),r.a.createElement(M.a,{className:function(e){if(!e)return"";switch(e.current_mode.value){case E.DoorMode.MODE_OPEN:return"".concat(s.doorLabel," ").concat(s.doorLabelOpen);case E.DoorMode.MODE_CLOSED:return"".concat(s.doorLabel," ").concat(s.doorLabelClosed);case E.DoorMode.MODE_MOVING:return"".concat(s.doorLabel," ").concat(s.doorLabelMoving);default:return""}}(a),variant:"button"},function(e){if(!e)return"UNKNOWN";switch(e.current_mode.value){case E.DoorMode.MODE_OPEN:return"OPEN";case E.DoorMode.MODE_CLOSED:return"CLOSED";case E.DoorMode.MODE_MOVING:return"MOVING";default:return"UNKNOWN"}}(a))),r.a.createElement(X.a,{className:s.expansionDetail},r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Type:"),r.a.createElement(M.a,{variant:"body1"},function(e){switch(e){case E.Door.DOOR_TYPE_DOUBLE_SLIDING:return"Double Sliding";case E.Door.DOOR_TYPE_DOUBLE_SWING:return"Double Swing";case E.Door.DOOR_TYPE_DOUBLE_TELESCOPE:return"Double Telescope";case E.Door.DOOR_TYPE_SINGLE_SLIDING:return"Sliding";case E.Door.DOOR_TYPE_SINGLE_TELESCOPE:return"Telescope";default:return"Unknown (".concat(e,")")}}(n.door_type))),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Motion Direction:"),r.a.createElement(M.a,{variant:"body1"},function(e){switch(e){case 1:return"Clockwise";case-1:return"Anti-Clockwise";default:return"Unknown (".concat(e,")")}}(n.motion_direction))),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Motion Range:"),r.a.createElement(M.a,{variant:"body1"},n.motion_range)),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Location:"),r.a.createElement(M.a,{variant:"body1"},"(",n.v1_x.toFixed(3),", ",n.v1_y.toFixed(3),")")),r.a.createElement(ie.a,{style:{marginTop:u.spacing(1)},fullWidth:!0,disabled:!o},r.a.createElement(ce.a,{onClick:function(){return c&&c(n)}},"Close"),r.a.createElement(ce.a,{onClick:function(){return i&&i(n)}},"Open"))))})),se=Object(j.a)((function(e){return{expansionSummaryContent:{alignItems:"center",justifyContent:"space-between"},expansionDetail:{flexFlow:"column"},expansionDetailLine:{display:"inline-flex",justifyContent:"space-between",padding:e.spacing(.5)},doorLabel:{borderRadius:e.shape.borderRadius,borderStyle:"solid",border:2,padding:5,width:"4rem",textAlign:"center"},doorLabelOpen:{borderColor:e.palette.success.main},doorLabelClosed:{borderColor:e.palette.error.main},doorLabelMoving:{borderColor:e.palette.warning.main}}}));function ue(e){var t=e.transport,n=e.spotlight,a=e.onDoorClick,o=r.a.useRef({}),i=r.a.useState({}),c=Object(_.a)(i,2),l=c[0],s=c[1],u=r.a.useMemo((function(){return t?t.createPublisher(E.doorRequests):null}),[t]);function d(e,n){null===u||void 0===u||u.publish({door_name:e.name,requested_mode:{value:n},requester_id:t.name,request_time:E.toRosTime(new Date)})}r.a.useEffect((function(){if(n){var e=o.current[n.value];e&&(s((function(e){return Object(P.a)({},e,Object(Y.a)({},n.value,!0))})),e.scrollIntoView({behavior:"smooth"}))}}),[n]);var f=e.doors.map((function(n){var i=e.doorStates[n.name];return r.a.createElement(le,{key:n.name,ref:function(e){return o.current[n.name]=e},door:n,doorState:i,enableControls:Boolean(t),onOpenClick:function(){return d(n,E.DoorMode.MODE_OPEN)},onCloseClick:function(){return d(n,E.DoorMode.MODE_CLOSED)},onClick:function(){return a&&a(n)},expanded:Boolean(l[n.name]),onChange:function(e,t){return s((function(e){return Object(P.a)({},e,Object(Y.a)({},n.name,t))}))}})}));return r.a.createElement(r.a.Fragment,null,f)}var de=n(186),fe=n(166),me=n(4),ve=Object(j.a)((function(e){return{disabled:{color:e.palette.action.disabled}}}));function pe(e){var t,n=e.className,a=e.disabled,o=Object(z.a)(e,["className","disabled"]),i=ve();return r.a.createElement(M.a,Object.assign({className:Object(me.a)((t={},Object(Y.a)(t,i.disabled,a),Object(Y.a)(t,"className",n),t))},o),e.children)}var be=r.a.forwardRef((function(e,t){var n=e.lift,a=e.liftState,o=e.enableRequest,i=e.onRequest,c=Object(z.a)(e,["lift","liftState","enableRequest","onRequest"]),l=Object(oe.a)(),s=Ee(),u=r.a.useState(null),d=Object(_.a)(u,2),f=d[0],m=d[1];function v(e){var t=e.map((function(e){return r.a.createElement(K.a,{key:e,dense:!0,className:s.noPadding},r.a.createElement(M.a,{variant:"body1"},e))}));return r.a.createElement(H.a,null,t)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,Object.assign({ref:t},c),r.a.createElement(Z.a,{classes:{content:s.expansionSummaryContent},expandIcon:r.a.createElement(ee.a,null)},r.a.createElement(M.a,{variant:"h5"},n.name),r.a.createElement(M.a,{className:function(e){if(!e)return s.liftFloorLabelUnknown;switch(e.motion_state){case E.LiftState.MOTION_UP:case E.LiftState.MOTION_DOWN:return s.liftFloorLabelMoving;default:return s.liftFloorLabelStopped}}(a),variant:"button"},a?a.current_floor:"Unknown")),r.a.createElement(X.a,{className:s.expansionDetail},r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Location:"),r.a.createElement(M.a,{variant:"body1"},"(".concat(n.ref_x.toFixed(3),", ").concat(n.ref_y.toFixed(3),")"))),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Destination Floor:"),r.a.createElement(pe,{disabled:!a,variant:"body1"},a?a.destination_floor:"Unknown")),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Available Floors:"),function(e){return e?v(e.available_floors):r.a.createElement(pe,{disabled:!e,variant:"body1"},"Unknown")}(a)),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Current Mode:"),r.a.createElement(pe,{disabled:!a,variant:"body1"},a?he(a.current_mode):"Unknown")),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Available Modes:"),function(e){return e?v(Array.from(e.available_modes.values()).map(he)):r.a.createElement(pe,{disabled:!e,variant:"body1"},"Unknown")}(a)),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Door State:"),r.a.createElement(pe,{disabled:!a,variant:"body1"},a?function(e){switch(e){case E.LiftState.DOOR_OPEN:return"Open";case E.LiftState.DOOR_CLOSED:return"Closed";case E.LiftState.DOOR_MOVING:return"Moving";default:return"Unknown (".concat(e,")")}}(a.door_state):"Unknown")),r.a.createElement($.a,null),r.a.createElement("div",{className:s.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Motion State:"),r.a.createElement(pe,{disabled:!a,variant:"body1"},a?function(e){switch(e){case E.LiftState.MOTION_DOWN:return"Down";case E.LiftState.MOTION_STOPPED:return"Stopped";case E.LiftState.MOTION_UP:return"Up";default:return"Unknown (".concat(e,")")}}(a.motion_state):"Unknown")),r.a.createElement(ce.a,{variant:"outlined",style:{marginTop:l.spacing(1)},onClick:function(e){return function(e,t){m({lift:t,anchor:{top:e.clientY,left:e.clientX}})}(e,n)},disabled:!o,fullWidth:!0},"Request"))),f&&r.a.createElement(de.a,{anchorReference:"anchorPosition",anchorPosition:null===f||void 0===f?void 0:f.anchor,open:Boolean(f),onClose:function(){return m(null)}},f&&n.levels.map((function(e){return r.a.createElement(fe.a,{key:e,onClick:function(){i&&i(n,e),m(null)}},e)}))))})),Ee=Object(j.a)((function(e){var t={borderRadius:e.shape.borderRadius,borderStyle:"solid",border:2,padding:5,width:"4rem",textAlign:"center"};return{expansionSummaryContent:{alignItems:"center",justifyContent:"space-between"},expansionDetail:{flexFlow:"column"},expansionDetailLine:{display:"inline-flex",justifyContent:"space-between",padding:e.spacing(.5)},noPadding:{padding:0},liftFloorLabelStopped:Object(P.a)({},t,{borderColor:e.palette.info.main}),liftFloorLabelMoving:Object(P.a)({},t,{borderColor:e.palette.warning.main}),liftFloorLabelUnknown:Object(P.a)({},t,{borderStyle:"none"})}}));function he(e){switch(e){case E.LiftState.MODE_AGV:return"AGV";case E.LiftState.MODE_EMERGENCY:return"Emergency";case E.LiftState.MODE_FIRE:return"Fire";case E.LiftState.MODE_HUMAN:return"Human";default:return"Unknown (".concat(e,")")}}function ge(e){var t=e.transport,n=e.spotlight,a=e.onLiftRequest,o=e.onLiftClick,i=r.a.useMemo((function(){return t?t.createPublisher(E.liftRequests):null}),[t]),c=r.a.useRef({}),l=r.a.useState({}),s=Object(_.a)(l,2),u=s[0],d=s[1];function f(e,n){null===i||void 0===i||i.publish({lift_name:e.name,door_state:E.LiftRequest.DOOR_OPEN,request_type:E.LiftRequest.REQUEST_AGV_MODE,request_time:E.toRosTime(new Date),destination_floor:n,session_id:t.name}),a&&a(e,n)}return r.a.useEffect((function(){if(n){var e=c.current[n.value];e&&(d((function(e){return Object(P.a)({},e,Object(Y.a)({},n.value,!0))})),e.scrollIntoView({behavior:"smooth"}))}}),[n]),r.a.createElement(r.a.Fragment,null,e.lifts.map((function(n){var a=e.liftStates[n.name];return r.a.createElement(be,{key:n.name,lift:n,ref:function(e){return c.current[n.name]=e},liftState:a,enableRequest:Boolean(t),onRequest:f,onClick:function(){return o&&o(n)},expanded:Boolean(u[n.name]),onChange:function(e,t){return d((function(e){return Object(P.a)({},e,Object(Y.a)({},n.name,t))}))}})})))}var Oe=n(129),xe=n(167),ye=n(168),_e=n(169),ke=Object(j.a)((function(e){return{root:{display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center",zIndex:e.zIndex.drawer+1},caption:{marginTop:e.spacing(4)}}}));function we(e){var t=Object(oe.a)(),n=ke();return r.a.createElement(Oe.a,{className:n.root,open:!0},(void 0===e.variant||"loading"===e.variant)&&r.a.createElement(xe.a,{size:"8rem"}),"success"===e.variant&&r.a.createElement(ye.a,{htmlColor:t.palette.success.main,style:{fontSize:"8rem"}}),"error"===e.variant&&r.a.createElement(_e.a,{color:"error",style:{fontSize:"8rem"}}),r.a.createElement(M.a,{className:n.caption,variant:"button",style:{color:t.palette.getContrastText("#000000")}},e.caption))}function Ce(e){return r.a.createElement(H.a,null,r.a.createElement(K.a,{button:!0,onClick:e.onDoorsClick},r.a.createElement(M.a,{variant:"h5"},"Doors")),r.a.createElement($.a,null),r.a.createElement(K.a,{button:!0,onClick:e.onLiftsClick},r.a.createElement(M.a,{variant:"h5"},"Lifts")),r.a.createElement($.a,null),r.a.createElement(K.a,{button:!0,onClick:e.onRobotsClick},r.a.createElement(M.a,{variant:"h5"},"Robots")),r.a.createElement($.a,null),r.a.createElement(K.a,{button:!0,onClick:e.onPlacesClick},r.a.createElement(M.a,{variant:"h5"},"Places")),r.a.createElement($.a,null),r.a.createElement(K.a,{button:!0,onClick:e.onDispensersClick},r.a.createElement(M.a,{variant:"h5"},"Dispensers")))}var Se=n(131),je=n(170),De=n(171),Le=Object(j.a)((function(){return{container:{display:"flex",flexFlow:"column"},viewContainer:{height:"100%",overflowX:"hidden",position:"relative"},viewContainer2:{width:"100%",height:"100%",position:"absolute"}}})),Me=r.a.forwardRef((function(e,t){var n,a,o,i,c=e.view,l=(e.classes,e.onBack,e.onClose,e.children,Object(z.a)(e,["view","classes","onBack","onClose","children"])),s=Le(),u="".concat(l.className||""," ").concat(s.container," ").concat(e.className);return r.a.createElement("div",Object.assign({},l,{ref:t,className:u}),r.a.createElement(ie.a,{className:null===(n=e.classes)||void 0===n?void 0:n.navigation,variant:"text",fullWidth:!0},r.a.createElement(ce.a,{className:null===(a=e.classes)||void 0===a?void 0:a.backButton,size:"large",onClick:function(){e.onBack&&e.onBack(e.view)}},r.a.createElement(je.a,null)),r.a.createElement(ce.a,{className:null===(o=e.classes)||void 0===o?void 0:o.closeButton,size:"large",onClick:function(){e.onClose&&e.onClose()}},r.a.createElement(De.a,null))),r.a.createElement("div",{className:s.viewContainer},null===(i=e.children)||void 0===i?void 0:i.map((function(e){return r.a.createElement(Se.a,{key:e.props.id,direction:"left",in:e.props.id===c,mountOnEnter:!0,unmountOnExit:!0,appear:!1},r.a.createElement("div",{className:s.viewContainer2},e))}))))}));function Ne(e){return r.a.createElement(r.a.Fragment,null,e.children)}var Re=Object(j.a)((function(e){return{summary:{marginTop:0,marginBottom:0},details:{flexFlow:"column"},detailLine:{width:"100%",display:"inline-flex",justifyContent:"space-between",padding:e.spacing(.5)}}})),Fe=r.a.forwardRef((function(e,t){var n=e.place,a=e.level,o=Object(z.a)(e,["place","level"]),i=Re();return r.a.createElement(Q.a,Object.assign({ref:t},o),r.a.createElement(Z.a,{expandIcon:r.a.createElement(ee.a,null)},r.a.createElement(J.a,{className:i.summary,primary:n.name,primaryTypographyProps:{variant:"h5"},secondary:a.name})),r.a.createElement(X.a,{className:i.details},r.a.createElement("div",{className:i.detailLine},r.a.createElement(M.a,null,"Location:"),r.a.createElement(M.a,null,"".concat(a.name," (").concat(n.x.toFixed(3),", ").concat(n.y.toFixed(3),", ").concat(n.yaw.toFixed(3),")"))),r.a.createElement($.a,null),r.a.createElement("div",{className:i.detailLine},r.a.createElement(M.a,null,"Position Tolerance:"),r.a.createElement(M.a,null,n.position_tolerance.toFixed(3))),r.a.createElement($.a,null),r.a.createElement("div",{className:i.detailLine},r.a.createElement(M.a,null,"Yaw Tolerance:"),r.a.createElement(M.a,null,n.yaw_tolerance.toFixed(3)))))}));function Ie(e){var t=e.buildingMap,n=e.spotlight,a=e.onPlaceClick,o=r.a.useRef({}),i=r.a.useState({}),c=Object(_.a)(i,2),l=c[0],s=c[1];return r.a.useEffect((function(){if(n){var e=o.current[n.value];e&&(s((function(e){return Object(P.a)({},e,Object(Y.a)({},n.value,!0))})),e.scrollIntoView({behavior:"smooth"}))}}),[n]),r.a.createElement(r.a.Fragment,null,t.levels.flatMap((function(e){return e.places.map((function(t){return r.a.createElement(Fe,{key:t.name,ref:function(e){return o.current[t.name]=e},place:t,level:e,onClick:function(){return a&&a(t)},expanded:Boolean(l[t.name]),onChange:function(e,n){return s((function(e){return Object(P.a)({},e,Object(Y.a)({},t.name,n))}))}})}))})))}var Pe=r.a.forwardRef((function(e,t){var n=e.robot,a=(e.onRobotClick,Object(z.a)(e,["robot","onRobotClick"])),o=Te();return r.a.createElement(Q.a,Object.assign({ref:t},a),r.a.createElement(Z.a,{classes:{content:o.expansionSummaryContent},expandIcon:r.a.createElement(ee.a,null)},r.a.createElement(M.a,{variant:"h5"},n.name),r.a.createElement(M.a,{className:o.robotStatusLabel,variant:"button"},function(e){switch(e.mode){case E.RobotMode.MODE_CHARGING:return"Charging";case E.RobotMode.MODE_DOCKING:return"Docking";case E.RobotMode.MODE_EMERGENCY:return"Emergency";case E.RobotMode.MODE_GOING_HOME:return"Going Home";case E.RobotMode.MODE_IDLE:return"Idle";case E.RobotMode.MODE_MOVING:return"Moving";case E.RobotMode.MODE_PAUSED:return"Paused";case E.RobotMode.MODE_WAITING:return"Waiting";default:return"Unknown (".concat(e.mode,")")}}(n.mode))),r.a.createElement(X.a,{className:o.expansionDetail},r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Model:"),r.a.createElement(M.a,{variant:"body1"},n.model)),r.a.createElement($.a,null),r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Level:"),r.a.createElement(M.a,{variant:"body1"},n.location.level_name)),r.a.createElement($.a,null),r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Position:"),r.a.createElement(M.a,{variant:"body1"},"(".concat(n.location.x.toFixed(3),", ").concat(n.location.y.toFixed(3),")"))),r.a.createElement($.a,null),r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Yaw:"),r.a.createElement(M.a,{variant:"body1"},n.location.yaw.toFixed(3))),r.a.createElement($.a,null),r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Task Id:"),r.a.createElement(M.a,{variant:"body1",noWrap:!0},n.task_id)),r.a.createElement($.a,null),r.a.createElement("div",{className:o.expansionDetailLine},r.a.createElement(M.a,{variant:"body1"},"Battery:"),r.a.createElement(M.a,{variant:"body1"},n.battery_percent))))})),Te=Object(j.a)((function(e){return{expansionSummaryContent:{alignItems:"center",justifyContent:"space-between"},expansionDetail:{flexFlow:"column"},expansionDetailLine:{display:"inline-flex",justifyContent:"space-between",padding:e.spacing(.5)},robotStatusLabel:{borderRadius:e.shape.borderRadius,borderStyle:"solid",borderColor:e.palette.info.main,border:2,padding:5,minWidth:"4rem",textAlign:"center"}}}));function Ae(e){var t=e.fleets,n=e.spotlight,a=e.onRobotClick,o=r.a.useRef({}),i=r.a.useState({}),c=Object(_.a)(i,2),l=c[0],s=c[1];return r.a.useEffect((function(){if(n){var e=o.current[n.value];e&&(s((function(e){return Object(P.a)({},e,Object(Y.a)({},n.value,!0))})),e.scrollIntoView({behavior:"smooth"}))}}),[n]),r.a.createElement(r.a.Fragment,null,t.flatMap((function(e){return e.robots.map((function(e){return r.a.createElement(Pe,{key:e.name,ref:function(t){return o.current[e.name]=t},robot:e,onClick:function(){return a&&a(e)},expanded:Boolean(l[e.name]),onChange:function(t,n){return s((function(t){return Object(P.a)({},t,Object(Y.a)({},e.name,n))}))},TransitionProps:{unmountOnExit:!0}})}))})))}var Be=n(12),Ue=n(173),Ge=n(174),qe=n(175),We=n(187),Ve=n(176);function Ye(e){var t=new Blob([e]);return URL.createObjectURL(t)}function ze(e){return He.apply(this,arguments)}function He(){return(He=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder,a=n.encode(t),e.abrupt("return",crypto.subtle.digest("SHA-256",a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(){function e(){Object(u.a)(this,e),this._robotColorCache={}}return Object(d.a)(e,[{key:"robotColor",value:function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r,o,i,c,s,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this._robotKey(t,n),r=this._robotColorCache[a]){e.next=19;break}return e.t0=Uint16Array,e.next=6,ze(n);case 6:return e.t1=e.sent,o=new e.t0(e.t1),i=o[0]%360,e.t2=Uint16Array,e.next=12,ze(t);case 12:e.t3=e.sent,c=new e.t2(e.t3),s=c[0]%2500,u=50+s%50,d=25+s/50,r="hsl(".concat(i,", ").concat(u,"%, ").concat(d,"%)"),this._robotColorCache[a]=r;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"robotColorFromCache",value:function(e,t){var n=this._robotColorCache[this._robotKey(e,t)];return n||null}},{key:"_robotKey",value:function(e,t){return"".concat(e,"__").concat(t)}}]),e}();function Je(e){var t=e instanceof Be.LatLngBounds?e:new Be.LatLngBounds(e),n=t.getEast()-t.getWest(),a=t.getNorth()-t.getSouth();return"0 0 ".concat(n," ").concat(a)}var Qe=r.a.forwardRef((function(e,t){var n=e.place,a=e.size,o=e.onClick,i=Ze(),c=Object(oe.a)();return r.a.createElement("g",{ref:t,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return o&&o(e,n)}))},r.a.createElement("rect",{className:i.placeMarker,x:n.x-.5*a,y:-n.y-.5*a,width:a,height:a,fill:c.palette.primary.main,opacity:.95}))})),Ze=Object(j.a)((function(){return{placeMarker:{cursor:"pointer",pointerEvents:"auto"}}})),Xe=n(172).a;function $e(e){var t=e.places,n=e.onPlaceClick,a=Object(z.a)(e,["places","onPlaceClick"]),o=Je(e.bounds);return r.a.createElement(Xe,a,r.a.createElement("svg",{viewBox:o},t.map((function(e){return r.a.createElement(Qe,{key:e.name,place:e,size:1,onClick:function(e,t){return n&&n(t)}})}))))}function et(e){var t=e.initialPose,n=e.finalPose,a=e.initialVelocity,r=e.finalVelocity,o=e.initialTime,i=e.finalTime-o,c=a/i,l=r/i;return{a:l+c-2*n+2*t,b:-l-2*c+3*n-3*t,c:c,d:t}}function tt(e,t,n){return{initialPose:e.pose[n],finalPose:t.pose[n],initialVelocity:e.velocity[n],finalVelocity:t.velocity[n],initialTime:e.time,finalTime:t.time}}function nt(e){for(var t=[],n=0;n<e.length-1;++n){var a=e[n],r=e[n+1],o={x:et(tt(a,r,"x")),y:et(tt(a,r,"y")),theta:et(tt(a,r,"theta")),initialTime:a.time,finalTime:r.time};t.push(o)}return t}function at(e){var t=e.a,n=e.b,a=e.c,r=e.d,o=(a+3*r)/3,i=(n-3*r+6*o)/3;return[r,o,i,t+r-3*o+3*i]}function rt(e){var t=at(e.x),n=at(e.y);return t.map((function(e,t){return[e,n[t]]}))}var ot=r.a.forwardRef((function(e,t){var n=e.trajectory,a=e.conflicts,o=e.footprint,i=Object(z.a)(e,["trajectory","conflicts","footprint"]),c=Object(oe.a)(),l=r.a.useMemo((function(){var e=nt(k(n.segments)).map(rt),t="M ".concat(e[0][0][0]," ").concat(-e[0][0][1]," C ");return e.map((function(e){return t+="".concat(e[1][0]," ").concat(-e[1][1]," ")+"".concat(e[2][0]," ").concat(-e[2][1]," ")+"".concat(e[3][0]," ").concat(-e[3][1]," ")})),t}),[n]),s=r.a.useMemo((function(){return a.includes(n.id)?c.palette.error.main:c.palette.success.main}),[n,a,c]);return r.a.createElement("path",Object.assign({ref:t,d:l,stroke:s,opacity:.8,strokeWidth:.8*o,strokeLinecap:"round",fill:"none",pathLength:1,strokeDasharray:2,strokeDashoffset:0},i))}));function it(e){var t=e.trajs,n=e.conflicts,a=(e.colorManager,Object(z.a)(e,["trajs","conflicts","colorManager"])),o=r.a.useContext(ct),i=e.bounds instanceof Be.LatLngBounds?e.bounds:new Be.LatLngBounds(e.bounds),c=i.getEast()-i.getWest(),l=i.getNorth()-i.getSouth(),s="0 0 ".concat(c," ").concat(l);return r.a.createElement(Xe,a,r.a.createElement("svg",{viewBox:s},t.map((function(e){return r.a.createElement(o.Component,{key:e.id,trajectory:e,footprint:.5,conflicts:n})}))))}var ct=r.a.createContext({Component:ot}),lt=Object(j.a)((function(){return{robotMarker:{cursor:"pointer",pointerEvents:"auto"}}})),st=r.a.forwardRef((function(e,t){var n=lt(),a=e.robot,o=e.footprint,i=e.colorManager,c=e.onClick,u=r.a.useState((function(){return i.robotColorFromCache(a.name,a.model)})),d=Object(_.a)(u,2),f=d[0],m=d[1],v=r.a.useMemo((function(){return[a.location.x+Math.cos(a.location.yaw)*o,a.location.y+Math.sin(a.location.yaw)*o]}),[a,o]);return r.a.useLayoutEffect((function(){f||Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,i.robotColor(a.name,a.model);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[a,f,i]),r.a.createElement("g",{ref:t,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return c&&c(e,a)}))},f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("filter",{id:"".concat(a.name,"-shadow"),x:"-20%",y:"-20%",width:"140%",height:"140%"},r.a.createElement("feDropShadow",{dx:"0",dy:"0",stdDeviation:.15*o,floodColor:"black"})),r.a.createElement("circle",{className:n.robotMarker,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return c&&c(e,a)})),cx:a.location.x,cy:-a.location.y,r:o,fill:f,filter:"url(#".concat(a.name,"-shadow)")}),r.a.createElement("line",{x1:a.location.x,y1:-a.location.y,x2:v[0],y2:-v[1],stroke:"black",strokeWidth:"0.05"})))}));function ut(e){var t=e.robots,n=e.colorManager,a=e.onRobotClick,o=Object(z.a)(e,["robots","colorManager","onRobotClick"]),i=e.bounds instanceof Be.LatLngBounds?e.bounds:new Be.LatLngBounds(e.bounds),c=i.getEast()-i.getWest(),l=i.getNorth()-i.getSouth(),s="0 0 ".concat(c," ").concat(l);return r.a.createElement(Xe,o,r.a.createElement("svg",{viewBox:s},t.map((function(e){return r.a.createElement(st,{key:e.name,robot:e,footprint:.5,colorManager:n,onClick:function(e,t){return a&&a(t)}})}))))}function dt(e){var t=e.segments,n=t[t.length-1].t-t[0].t;return e.segments.map((function(e){return(e.t-t[0].t)/n}))}var ft=Object(j.a)((function(){return{anim:{opacity:.8,strokeDasharray:2,strokeDashoffset:2},highlight:{opacity:.4}}})),mt=Object(j.a)((function(){return{anim:{opacity:.8,strokeDashoffset:2},highlight:{opacity:.4}}})),vt=Object(j.a)((function(){return{highlight:{opacity:.25},maskPath:{stroke:"black",opacity:1}}}));function pt(e,t){return(e.segments[e.segments.length-1].t-e.segments[0].t)/t}var bt=Object(j.a)((function(){return{doorMarker:{cursor:"pointer",pointerEvents:"auto"},door:{strokeWidth:"0.2"},undefinedDoor:{stroke:"grey"},doorOpen:{stroke:"#AFDDAE",strokeDasharray:.1},doorClose:{stroke:"#BC4812"},doorProcess:{stroke:"#E9CE9F",strokeDasharray:.3},doorTransparent:{stroke:"transparent"}}})),Et=function(e){var t=e.v1,n=e.v2,a=e.style,o=e.onClick,i=Object(_.a)(t,2),c=i[0],l=i[1],s=Object(_.a)(n,2),u=s[0],d=s[1],f=bt();return r.a.createElement("g",{onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return o&&o(e)}))},r.a.createElement("line",{className:"".concat(f.doorMarker," ").concat(f.door," ").concat(a||f.undefinedDoor),x1:c,y1:l,x2:u,y2:d}))},ht=function(e){var t=e.currentMode,n=e.onClick,a=e.v1,o=e.v2,i=Object(_.a)(a,2),c=i[0],l=i[1],s=Object(_.a)(o,2),u=c,d=l,f=s[0],m=s[1],v=bt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Et,{v1:[u,-d],v2:[f,-m],style:yt(v,t)}),r.a.createElement(Et,{v1:[u,-d],v2:[f,-m],style:v.doorTransparent,onClick:n}))},gt=function(e){var t=e.door,n=e.v1,a=e.v2,o=e.onClick,i=e.currentMode,c=Object(_.a)(n,2),l=c[0],s=c[1],u=Object(_.a)(a,2),d=u[0],f=u[1],m=l,v=s,p=d,b=f,E=m+(d-l)/2,h=v+(f-s)/2;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht,{v1:[m,-v],v2:[E,-h],door:t,onClick:o,currentMode:i}),r.a.createElement(ht,{v1:[E,-h],v2:[p,-b],door:t,onClick:o,currentMode:i}))},Ot=function(e){var t=e.currentMode,n=e.onClick,a=e.v1,o=e.v2,i=Object(_.a)(a,2),c=i[0],l=i[1],s=Object(_.a)(o,2),u=c,d=l,f=s[0],m=s[1],v=bt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Et,{v1:[u,-d],v2:[f,-m],style:yt(v,t)}),r.a.createElement(Et,{v1:[u,-d],v2:[f,-m],style:v.doorTransparent,onClick:n}))},xt=function(e){var t=e.door,n=e.v1,a=e.v2,o=e.onClick,i=e.currentMode,c=Object(_.a)(n,2),l=c[0],s=c[1],u=Object(_.a)(a,2),d=u[0],f=u[1],m=l,v=s,p=d,b=f,E=m+(d-l)/2,h=v+(f-s)/2;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,{v1:[m,-v],v2:[E,-h],door:t,onClick:o,currentMode:i}),r.a.createElement(Ot,{v1:[E,-h],v2:[p,-b],door:t,onClick:o,currentMode:i}))},yt=function(e,t){var n=E.DoorMode,a=n.MODE_OPEN,r=n.MODE_MOVING;switch(t){case a:return e.doorOpen;case r:return e.doorProcess;default:return e.doorClose}},_t=r.a.forwardRef((function(e,t){var n=e.door,a=e.onClick,o=e.currentMode,i=E.Door,c=i.DOOR_TYPE_UNDEFINED,l=i.DOOR_TYPE_SINGLE_SLIDING,s=i.DOOR_TYPE_DOUBLE_SLIDING,u=i.DOOR_TYPE_SINGLE_TELESCOPE,d=i.DOOR_TYPE_DOUBLE_TELESCOPE,f=i.DOOR_TYPE_SINGLE_SWING,m=i.DOOR_TYPE_DOUBLE_SWING,v=n.door_type,p=[n.v1_x,n.v1_y],b=[n.v2_x,n.v2_y],h=function(e){a&&a(e,n)};return r.a.createElement(r.a.Fragment,null,v===f&&r.a.createElement(ht,{v1:p,v2:b,door:n,onClick:h,currentMode:o}),v===m&&r.a.createElement(gt,{v1:p,v2:b,door:n,onClick:h,currentMode:o}),(v===l||v===u)&&r.a.createElement(Ot,{v1:p,v2:b,door:n,onClick:h,currentMode:o}),(v===s||v===d)&&r.a.createElement(xt,{v1:p,v2:b,door:n,onClick:h,currentMode:o}),v===c&&r.a.createElement(Et,{v1:p,v2:b,onClick:h}))}));function kt(e){var t=e.doors,n=e.onDoorClick,o=Object(z.a)(e,["doors","onDoorClick"]),i=Je(e.bounds),c=Object(a.useContext)(wt),l=function(e){var t=c&&c[e];return t&&t.current_mode.value};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,o,r.a.createElement("svg",{viewBox:i},t.map((function(e){return r.a.createElement(_t,{key:"building-door-".concat(e.name),door:e,onClick:function(e,t){return n&&n(t)},doorState:c&&c[e.name],currentMode:l(e.name)})})))))}var wt=Object(a.createContext)({}),Ct=function(e){var t,n,a,o,i=e.x,c=e.y,l=e.size,s=void 0===l?1:l,u=e.strokeWidth,d=void 0===u?.01:u,f=e.padding;return t=i-i/2*s,a=i+i/2*s,o=n=c<0?c+c*s:c-c*s,r.a.createElement(jt,{x1:i,y1:c,x2:t,y2:n,x3:a,y3:o,strokeWidth:d,padding:f})},St=function(e){var t,n,a,o,i=e.x,c=e.y,l=e.size,s=void 0===l?1:l,u=e.strokeWidth,d=e.padding;return t=i-i/2*s,a=i+i/2*s,o=n=c<0?c-c*s:c+c*s,r.a.createElement(jt,{x1:i,y1:c,x2:t,y2:n,x3:a,y3:o,strokeWidth:u,padding:d})},jt=function(e){var t=e.x1,n=e.y1,a=e.x2,o=e.y2,i=e.x3,c=e.y3,l=e.strokeWidth,s=e.padding,u=void 0===s?[0,0]:s,d=Dt();return r.a.createElement("polygon",{points:"".concat(t+u[0],",").concat(n+u[1]," ")+"".concat(a+u[0],",").concat(o+u[1]," ")+"".concat(i+u[0],",").concat(c+u[1]),strokeWidth:l,className:d.arrow})},Dt=Object(j.a)((function(){return{arrow:{fill:"black"}}})),Lt=function(e,t,n){if(!t)throw new Error("Height cannot be undefined");return e+t*n},Mt=r.a.forwardRef((function(e,t){var n=e.lift,a=e.onClick,o=e.liftState,i=e.currentFloor,c=n.width,l=n.depth,s=n.ref_x,u=n.ref_y,d=n.ref_yaw,f=n.doors,m=function(e,t,n,a){if(!n||!a)throw new Error("Width and Height cannot be undefined");return{x:e-n/2,y:t+a/2}}(s,u,c,l),v=m.x,p=-u,b=-m.y,h=null===o||void 0===o?void 0:o.current_mode,g=null===o||void 0===o?void 0:o.destination_floor,O=null===o||void 0===o?void 0:o.door_state,x=(null===o||void 0===o?void 0:o.current_floor)===i,y=null===o||void 0===o?void 0:o.motion_state,_=Nt(),k=function(e,t,n){var a=E.LiftState,r=a.MODE_AGV,o=a.MODE_EMERGENCY,i=a.MODE_FIRE,c=a.MODE_HUMAN,l=a.MODE_OFFLINE,s=a.MODE_UNKNOWN,u=t===l||t===s,d=t===r,f=t===c;return t===o?e.emergency:t===i?e.fire:u?e.offLine:n?n&&d?e.liftOnCurrentFloor:n&&f?e.humanMode:void 0:e.liftOnAnotherFloor}(_,h,x),w=function(e,t,n){var a=E.LiftState,r=a.MOTION_DOWN,o=a.MOTION_UP,i=a.MOTION_STOPPED;return n===a.MOTION_UNKNOWN?"?":n===i?"STOPPED":n===o||n===r?"".concat(e," \u2192 ").concat(t):void 0}(null===o||void 0===o?void 0:o.current_floor,g,y),C=function(e){var t=E.LiftState,n=t.MODE_AGV,a=t.MODE_EMERGENCY,r=t.MODE_FIRE,o=t.MODE_HUMAN,i=t.MODE_OFFLINE,c=t.MODE_UNKNOWN;return e?e===r?"FIRE!":e===a?"EMERGENCY!":e===i?"OFFLINE":e===o?"HUMAN":e===n?"AGV":e===c?"UNKNOWN":void 0:"UNKNOWN"}(h);return r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{ref:t,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a&&a(e,n)}))},r.a.createElement("rect",{className:"".concat(_.liftMarker," ").concat(_.lift," ").concat(k),width:c,height:l,x:v,y:b,rx:"0.1",ry:"0.1",transform:"rotate(".concat(d,",").concat(s,",").concat(p,")")}),w&&r.a.createElement("text",{id:"liftMotion",className:_.liftText,x:s,y:p},w),C&&r.a.createElement("text",{id:"liftMode",className:_.liftText,x:s,y:Lt(b,l,.25)},C)),y===E.LiftState.MOTION_UP&&r.a.createElement(St,{x:s,y:p,size:.03,padding:[0,.1]}),y===E.LiftState.MOTION_DOWN&&r.a.createElement(Ct,{x:s,y:p,size:.03,padding:[0,.1]}),f.map((function(e){return r.a.createElement(_t,{key:"lift-door-".concat(e.name),door:e,currentMode:O})})))})),Nt=Object(j.a)((function(){return{liftMarker:{cursor:"pointer",pointerEvents:"auto"},lift:{strokeWidth:"0.2"},liftOnCurrentFloor:{fill:"green",opacity:"70%"},liftOnAnotherFloor:{fill:"grey",opacity:"80%"},emergency:{fill:"red",opacity:"80%"},fire:{fill:"#ff562a",opacity:"80%"},offLine:{fill:"yellow",opacity:"80%"},humanMode:{fill:"#90dfef",opacity:"80%"},liftText:{dominantBaseline:"central",textAnchor:"middle",fontSize:"0.18px",fontWeight:"bold"}}}));function Rt(e){var t=e.lifts,n=e.onLiftClick,o=e.currentFloor,i=Object(z.a)(e,["lifts","onLiftClick","currentFloor"]),c=Je(e.bounds),l=Object(a.useContext)(Ft);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,i,r.a.createElement("svg",{viewBox:c},t.map((function(e){return r.a.createElement(Mt,{key:"lift-".concat(e.name),lift:e,onClick:function(e,t){return n&&n(t)},liftState:l&&l[e.name],currentFloor:o})})))))}var Ft=Object(a.createContext)({}),It=Object(j.a)((function(){return{map:{height:"100%",width:"100%",margin:0,padding:0}}}));function Pt(e){if(e.length){var t=new Be.LatLngBounds([0,0],[0,0]);return Object.values(e).forEach((function(e){return t.extend(e.bounds)})),t.pad(.2)}}function Tt(e){var t=It(),n=r.a.useRef(null),a=n.current,o=r.a.useState({}),i=Object(_.a)(o,2),c=i[0],u=i[1],d=r.a.useMemo((function(){return e.buildingMap.levels.sort((function(e,t){return e.elevation-t.elevation})).map((function(e){return e.name}))}),[e.buildingMap]),f=r.a.useState((function(){return d[0]})),m=Object(_.a)(f,2),p=m[0],b=m[1],E=r.a.useMemo((function(){return c[p]}),[p,c]),h=r.a.useState({}),g=Object(_.a)(h,2),O=g[0],x=g[1],y=r.a.useMemo((function(){var e=c[d[0]];if(e)return e.bounds}),[c,d]),k=r.a.useState((function(){return Pt(Object.values(c))})),S=Object(_.a)(k,2),j=S[0],D=S[1],L=r.a.useMemo((function(){return E?e.fleets.flatMap((function(e){return e.robots.filter((function(e){return e.location.level_name===E.level.name}))})):[]}),[e.fleets,E]),M=r.a.useMemo((function(){return new Ke}),[]),N=r.a.useContext(V),R=r.a.useMemo((function(){switch(N.trajectoryAnimationSpeed){case C.Slow:return 4e3;case C.Normal:return 2e3;case C.Fast:return 1e3}}),[N]),F=r.a.useMemo((function(){var e=6e4/R;switch(N.trajectoryAnimation){case w.None:return ot;case w.Fill:return function(e,t){return function(n){var a=ft(),o=n.trajectory,i=r.a.useRef(null);return r.a.useLayoutEffect((function(){var e;if(i.current){var n=dt(o),r=i.current.cloneNode(!1);return r.classList.add(a.anim),r.classList.remove(a.highlight),r.setAttribute("path-length","1"),null===(e=i.current.parentElement)||void 0===e||e.appendChild(r),r.animate(n.map((function(e){return{offset:e,strokeDashoffset:2-e}})),{duration:pt(o,t),easing:"linear",fill:"forwards"}),function(){return r.remove()}}}),[o,a.anim,a.highlight]),r.a.createElement("g",null,r.a.createElement(e,Object.assign({ref:i},n,{className:a.highlight})))}}(ot,e);case w.Follow:return function(e,t){return function(n){var a=mt(),o=n.trajectory,i=r.a.useRef(null);return r.a.useLayoutEffect((function(){var e;if(i.current){var n=dt(o),r=i.current.cloneNode(!1);r.classList.add(a.anim),r.classList.remove(a.highlight),r.setAttribute("path-length","1");var c=Number(r.getAttribute("stroke-width")||1)/r.getTotalLength();return r.setAttribute("stroke-dasharray","".concat(c," ").concat(2-c)),null===(e=i.current.parentElement)||void 0===e||e.appendChild(r),r.animate(n.map((function(e){return{offset:e,strokeDashoffset:Math.max(2-e,c+1)}})),{duration:pt(o,t),easing:"linear",fill:"forwards"}),function(){return r.remove()}}}),[o,a.anim,a.highlight]),r.a.createElement("g",null,r.a.createElement(e,Object.assign({ref:i},n,{className:a.highlight})))}}(ot,e);case w.Outline:return function(e,t){return function(n){var a=vt(),o=n.trajectory,i=r.a.useRef(null);return r.a.useLayoutEffect((function(){if(i.current&&i.current.parentElement){var e=dt(o),n=i.current.parentElement,r=document.createElementNS("http://www.w3.org/2000/svg","mask");r.setAttribute("id","".concat(o.id,"-mask"));var c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill","white"),r.appendChild(c);var l=i.current.cloneNode(!1);l.classList.add(a.maskPath);var s=i.current.getAttribute("stroke-width");s&&l.setAttribute("stroke-width",(parseFloat(s)-.1).toString()),r.appendChild(l),n.appendChild(r);var u=i.current.cloneNode(!1);return u.removeAttribute("mask"),u.classList.add(a.highlight),n.appendChild(u),i.current.animate(e.map((function(e){return{offset:e,strokeDashoffset:2-e}})),{duration:pt(o,t),easing:"linear",fill:"forwards"}),function(){u.remove(),r.remove()}}}),[o,a.highlight,a.maskPath]),r.a.createElement("g",null,r.a.createElement(e,Object.assign({ref:i},n,{mask:"url(#".concat(o.id,"-mask)")})))}}(ot,e)}}),[N.trajectoryAnimation,R]);r.a.useEffect((function(){a&&Object(s.a)(l.a.mark((function t(){var n,a,r,o,i,c,s,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a={},r=Object(v.a)(e.buildingMap.levels),t.prev=3,i=function(){var e=o.value,t=e.images[0];if(!t)return"continue";n.push(new Promise((function(n){var r=new Image,o=Ye(t.data);r.src=o;r.addEventListener("load",(function i(){r.removeEventListener("load",i);var c=r.naturalWidth*t.scale,l=r.naturalHeight*t.scale,s=new Be.LatLngBounds([t.y_offset,t.x_offset],[t.y_offset-l,t.x_offset+c]);a[e.name]={level:e,imageUrl:o,bounds:s},n()}))})))},r.s();case 6:if((o=r.n()).done){t.next=12;break}if("continue"!==i()){t.next=10;break}return t.abrupt("continue",10);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),r.e(t.t0);case 17:return t.prev=17,r.f(),t.finish(17);case 20:c=0,s=n;case 21:if(!(c<s.length)){t.next=28;break}return d=s[c],t.next=25,d;case 25:c++,t.next=21;break;case 28:u(a),D(Pt(Object.values(a)));case 30:case"end":return t.stop()}}),t,null,[[3,14,17,20]])})))()}),[e.buildingMap,a]),r.a.useEffect((function(){var t;return Object(s.a)(l.a.mark((function n(){var a,r,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(){return(o=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.latestTrajectory({request:"trajectory",param:{map_name:E.level.name,duration:6e4,trim:!0}});case 4:t=e.sent,x((function(e){return Object(P.a)({},e,Object(Y.a)({},E.level.name,t))}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},a=e.trajManager,n.next=5,r();case 5:t=window.setInterval(r,R);case 6:case"end":return n.stop()}}),n)})))(),function(){return clearInterval(t)}}),[e.trajManager,E,R]);var I=d.map((function(e){return c[e]})),T=r.a.useRef(null);return T.current&&T.current.leafletElement.setZIndex(0),r.a.createElement(Ue.a,{ref:n,className:t.map,attributionControl:!1,crs:Be.CRS.Simple,minZoom:4,maxZoom:8,zoomDelta:.5,zoomSnap:.5,bounds:y,maxBounds:j,onbaselayerchange:function(e){b(e.name)}},r.a.createElement(Ge.a,{position:"bottomright",prefix:"OSRC-SG"}),r.a.createElement(qe.a,{position:"topleft"},I.every((function(e){return e}))&&I.map((function(e,t){return r.a.createElement(qe.a.BaseLayer,{checked:0===t,name:e.level.name,key:e.level.name},r.a.createElement(We.a,{bounds:e.bounds,url:e.imageUrl,ref:T}))})),r.a.createElement(qe.a.Overlay,{name:"Places",checked:!0},E&&r.a.createElement(Ve.a,null,r.a.createElement($e,{bounds:E.bounds,places:E.level.places,onPlaceClick:e.onPlaceClick}))),r.a.createElement(qe.a.Overlay,{name:"Robot Trajectories",checked:!0},E&&r.a.createElement(Ve.a,null,r.a.createElement(ct.Provider,{value:{Component:F}},r.a.createElement(it,{bounds:E.bounds,trajs:function(e){var t=O[e];return t?t.values:[]}(E.level.name),conflicts:function(e){var t=O[e];return t?t.conflicts:[]}(E.level.name),colorManager:M})))),r.a.createElement(qe.a.Overlay,{name:"Doors",checked:!0},E&&r.a.createElement(Ve.a,null,r.a.createElement(kt,{bounds:E.bounds,doors:E.level.doors,onDoorClick:e.onDoorClick}))),r.a.createElement(qe.a.Overlay,{name:"Lifts",checked:!0},E&&r.a.createElement(Ve.a,null,r.a.createElement(Rt,{bounds:E.bounds,currentFloor:p,lifts:e.buildingMap.lifts,onLiftClick:e.onLiftClick}))),r.a.createElement(qe.a.Overlay,{name:"Robots",checked:!0},E&&r.a.createElement(Ve.a,null,r.a.createElement(ut,{bounds:E.bounds,robots:L,colorManager:M,onRobotClick:e.onRobotClick})))))}var At=n(177),Bt=n(188),Ut=n(189),Gt=n(185),qt=n(178),Wt=n(183);function Vt(e){var t=zt(),n=e.settings,a=e.onSettingsChange,o=Object(z.a)(e,["settings","onSettingsChange"]),i=n.trajectoryAnimation,c=r.a.useMemo((function(){return Object.keys(w).slice(.5*Object.keys(w).length)}),[]);return r.a.createElement(At.a,Object.assign({PaperProps:{className:t.drawer},anchor:"right"},o),r.a.createElement(Bt.a,{component:"fieldset"},r.a.createElement(Ut.a,{component:"legend",className:t.legendLabel},"Trajectory Animation"),r.a.createElement($.a,null),r.a.createElement(Gt.a,{className:t.trajGroup,value:i,onChange:function(e){var t=Object(P.a)({},n,{trajectoryAnimation:Number(e.target.value)});a&&a(t)}},c.map((function(e,n){return r.a.createElement(qt.a,{key:n,className:t.flexBasis,value:n,control:r.a.createElement(Wt.a,null),label:e})})))))}var Yt,zt=Object(j.a)((function(e){return{drawer:{width:300},legendLabel:{fontSize:e.typography.h6.fontSize,padding:e.spacing(1)},trajGroup:{flexDirection:"row",paddingLeft:e.spacing(2)},flexBasis:{flexBasis:"40%"}}})),Ht=Object(j.a)((function(e){return{container:{display:"flex",flexFlow:"column",height:"100%"},toolBarTitle:{flexGrow:1},omniPanel:{position:"fixed",width:350,top:80,right:"1%",bottom:"2%",backgroundColor:e.palette.background.default,zIndex:1024,borderTopLeftRadius:20,borderTopRightRadius:20,boxShadow:e.shadows[12]},topLeftBorder:{borderTopLeftRadius:20},topRightBorder:{borderTopRightRadius:20}}}));!function(e){e[e.MainMenu=0]="MainMenu",e[e.Doors=1]="Doors",e[e.Lifts=2]="Lifts",e[e.Robots=3]="Robots",e[e.Places=4]="Places",e[e.Dispensers=5]="Dispensers"}(Yt||(Yt={}));var Kt=function(){function e(t,n){Object(u.a)(this,e),this.value=t,this.parent=n}return Object(d.a)(e,[{key:"addChild",value:function(t){return new e(t,this)}}]),e}();var Jt=function(){var e={},t=new Kt(Yt.MainMenu);return e[Yt.MainMenu]=t,e[Yt.Doors]=t.addChild(Yt.Doors),e[Yt.Lifts]=t.addChild(Yt.Lifts),e[Yt.Robots]=t.addChild(Yt.Robots),e[Yt.Places]=t.addChild(Yt.Places),e[Yt.Dispensers]=t.addChild(Yt.Dispensers),e}();function Qt(e){var t=Ht(),n=e.appConfig,a=n.transportFactory,o=n.trajectoryManagerFactory,i=r.a.useState(void 0),c=Object(_.a)(i,2),u=c[0],d=c[1],f=r.a.useState(void 0),m=Object(_.a)(f,2),v=m[0],p=m[1],b=r.a.useRef(void 0),h=r.a.useMemo((function(){return new U}),[]),O=r.a.useState((function(){return h.doorStates()})),x=Object(_.a)(O,2),y=x[0],k=x[1],w=r.a.useState([]),C=Object(_.a)(w,2),S=C[0],j=C[1],P=r.a.useState(void 0),T=Object(_.a)(P,2),A=T[0],Y=T[1],z=r.a.useMemo((function(){return new q}),[]),H=r.a.useState((function(){return z.liftStates()})),K=Object(_.a)(H,2),J=K[0],Q=K[1],Z=r.a.useState([]),X=Object(_.a)(Z,2),$=X[0],ee=X[1],te=r.a.useState(void 0),ne=Object(_.a)(te,2),ae=ne[0],oe=ne[1],ie=r.a.useMemo((function(){return new G}),[]),ce=r.a.useState(ie.fleets()),le=Object(_.a)(ce,2),se=le[0],de=le[1],fe=r.a.useState(void 0),me=Object(_.a)(fe,2),ve=me[0],pe=me[1],be=r.a.useState(void 0),Ee=Object(_.a)(be,2),he=Ee[0],Oe=Ee[1],xe=r.a.useMemo((function(){return new B}),[]),ye=r.a.useState({}),_e=Object(_.a)(ye,2),ke=_e[0],Se=_e[1],je=r.a.useState(void 0),De=Object(_.a)(je,2),Le=De[0],Re=De[1],Fe=r.a.useState(!0),Pe=Object(_.a)(Fe,2),Te=Pe[0],Be=Pe[1],Ue=r.a.useState(Yt.MainMenu),Ge=Object(_.a)(Ue,2),qe=Ge[0],We=Ge[1],Ve=r.a.useState({caption:"Connecting to SOSS..."}),Ye=Object(_.a)(Ve,2),ze=Ye[0],He=Ye[1],Ke=r.a.useState(!1),Je=Object(_.a)(Ke,2),Qe=Je[0],Ze=Je[1],Xe=r.a.useState((function(){return function(){var e=localStorage.getItem("settings");return e?JSON.parse(e):W()}()})),$e=Object(_.a)(Xe,2),et=$e[0],tt=$e[1];function nt(){Y(void 0),oe(void 0),pe(void 0),Re(void 0)}function at(){nt(),Be(!1)}return r.a.useEffect((function(){He({caption:"Connecting to SOSS server..."}),a().then((function(e){e.on("error",console.error),e.once("close",(function(){He({caption:"Lost connection to SOSS",variant:"error"}),d(void 0)})),h.startSubscription(e),z.startSubscription(e),xe.startSubscription(e),ie.startSubscription(e),ie.on("updated",(function(){return de(ie.fleets())})),z.on("updated",(function(){return Q(z.liftStates())})),h.on("updated",(function(){return k(h.doorStates())})),d(e)})).catch((function(e){He({caption:"Unable to connect to SOSS server (".concat(e.code,")"),variant:"error"})}))}),[a,h,z,xe,ie]),r.a.useEffect((function(){if(u){He({caption:"Downloading building map..."});var e=new E.GetBuildingMap_Request;u.call(E.getBuildingMap,e).then((function(e){p(e.building_map),He(null)})).catch((function(){He({caption:"Unable to download building map",variant:"error"})}))}}),[u]),r.a.useEffect((function(){o&&Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:b.current=e.sent;case 3:case"end":return e.stop()}}),e)})))()}),[o]),r.a.useEffect((function(){if(qe===Yt.Doors){var e=function(){return k(h.doorStates())};return h.on("updated",e),g.a.log("started tracking door states"),function(){h.off("updated",e),g.a.log("stopped tracking door states")}}}),[qe,h]),r.a.useEffect((function(){if(qe===Yt.Lifts){var e=function(){return Q(z.liftStates())};return z.on("updated",e),g.a.log("started tracking lift states"),function(){z.off("updated",e),g.a.log("stopped tracking lift states")}}}),[qe,z]),r.a.useEffect((function(){if(qe===Yt.Dispensers){var e=function(){return Se(xe.dispenserStates())};return xe.on("updated",e),g.a.log("started tracking dispenser states"),function(){xe.off("updated",e),g.a.log("stopped tracking dispenser states")}}}),[qe,xe]),r.a.useEffect((function(){j(v?v.levels.flatMap((function(e){return e.doors})):[]),ee(v?v.lifts:[])}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.Provider,{value:et},ze&&r.a.createElement(we,ze),r.a.createElement("div",{className:t.container},r.a.createElement(D.a,{position:"static"},r.a.createElement(L.a,null,r.a.createElement(M.a,{variant:"h6",className:t.toolBarTitle},"Dashboard"),r.a.createElement(N.a,{color:"inherit",onClick:function(){return Be(!Te)}},r.a.createElement(F.a,null)),r.a.createElement(N.a,{color:"inherit",onClick:function(){return Ze(!0)}},r.a.createElement(I.a,null)))),v&&r.a.createElement(wt.Provider,{value:y},r.a.createElement(Ft.Provider,{value:J},r.a.createElement(Tt,{buildingMap:v,fleets:se,trajManager:b.current,onDoorClick:function(e){Be(!0),We(Yt.Doors),Y({value:e.name})},onLiftClick:function(e){Be(!0),We(Yt.Lifts),oe({value:e.name})},onPlaceClick:function(e){Be(!0),We(Yt.Places),Oe({value:e.name})},onRobotClick:function(e){Be(!0),We(Yt.Robots),pe({value:e.name})}}))),r.a.createElement(R.a,{in:Te},r.a.createElement(Me,{className:t.omniPanel,classes:{backButton:t.topLeftBorder,closeButton:t.topRightBorder},view:qe,onBack:function(e){nt();var t=Jt[e].parent;if(!t)return at();We(t.value)},onClose:at},r.a.createElement(Ne,{id:Yt.MainMenu},r.a.createElement(Ce,{onDoorsClick:function(){k(h.doorStates()),We(Yt.Doors)},onLiftsClick:function(){Q(z.liftStates()),We(Yt.Lifts)},onRobotsClick:function(){We(Yt.Robots)},onPlacesClick:function(){We(Yt.Places)},onDispensersClick:function(){We(Yt.Dispensers)}})),r.a.createElement(Ne,{id:Yt.Doors},r.a.createElement(ue,{transport:u,doorStates:y,doors:S,spotlight:A})),r.a.createElement(Ne,{id:Yt.Lifts},r.a.createElement(ge,{transport:u,liftStates:J,lifts:$,spotlight:ae})),r.a.createElement(Ne,{id:Yt.Robots},r.a.createElement(Ae,{fleets:se,spotlight:ve})),r.a.createElement(Ne,{id:Yt.Places},v&&r.a.createElement(Ie,{buildingMap:v,spotlight:he})),r.a.createElement(Ne,{id:Yt.Dispensers},r.a.createElement(re,{dispenserStates:ke,spotlight:Le})))),r.a.createElement(Vt,{settings:et,open:Qe,onSettingsChange:function(e){tt(e),function(e){localStorage.setItem("settings",JSON.stringify(e))}(e)},onClose:function(){return Ze(!1)}}))))}n(124);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=Be.Map.prototype._initControlPos;Be.Map.include({_initControlPos:function(){e.call(this),this._controlCorners.topcenter=Be.DomUtil.create("div","leaflet-top leaflet-horizontal-center",this._controlContainer),this._controlCorners.bottomcenter=Be.DomUtil.create("div","leaflet-bottom leaflet-horizontal-center",this._controlContainer),this._controlCorners.leftcenter=Be.DomUtil.create("div","leaflet-left leaflet-vertical-center",this._controlContainer),this._controlCorners.rightcenter=Be.DomUtil.create("div","leaflet-right leaflet-vertical-center",this._controlContainer),this._controlCorners.center=Be.DomUtil.create("div","leaflet-horizontal-center leaflet-vertical-center",this._controlContainer)}})}(),i.a.render(r.a.createElement(Qt,{appConfig:S}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},77:function(e){e.exports=JSON.parse('[{"conflicts":[],"response":"trajectory","values":[{"dimensions":0.3,"id":1837,"segments":[{"t":239324,"v":[-0.001401927254032181,0.21824042930153223,0],"x":[16.85562071895633,-6.849610535047465,-1.5643726408832297]},{"t":239699,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.5643726408832297]},{"t":241987,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.5643726408832297]},{"t":242654,"v":[1.278274362638684e-15,-4.246603073437827e-15,0],"x":[16.84633487483844,-5.404067193990637,-1.5643726408832297]}],"shape":"circle"},{"dimensions":0.3,"id":1841,"segments":[{"t":239324,"v":[0.0034009382612697737,0.49998843339066873,0],"x":[15.143808594955617,-8.290715147984928,-1.5842777490615845]},{"t":241762,"v":[0.003400938261912188,0.49998843348515437,0],"x":[15.152102246355314,-7.071425219188716,-1.5842777490615845]},{"t":242429,"v":[0,0,0],"x":[15.153235892442618,-6.904762408026998,-1.5842777490615845]},{"t":242729,"v":[0,0,-0.6],"x":[15.153235892442618,-6.904762408026998,-1.6742777490615846]},{"t":245001,"v":[0,0,-0.6],"x":[15.153235892442618,-6.904762408026998,-3.0378505480504017]},{"t":245301,"v":[0,0,0],"x":[15.153235892442618,-6.904762408026998,-3.1278505480504015]},{"t":245968,"v":[0.4999527893768024,0.006870836510545718,0],"x":[15.319886822234885,-6.90247212919015,-3.1278505480504015]},{"t":248707,"v":[0.4999527893768024,0.006870836510545718,0],"x":[16.6891737648425,-6.883654058927136,-3.1278505480504015]},{"t":249374,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-3.1278505480504015]},{"t":249674,"v":[0,0,0.6],"x":[16.85582469463477,-6.881363780090288,-3.0378505480504017]},{"t":251979,"v":[0,0,0.6],"x":[16.85582469463477,-6.881363780090288,-1.6543726408832296]},{"t":252279,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.5643726408832297]},{"t":252946,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.5643726408832297]},{"t":255234,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.5643726408832297]},{"t":255901,"v":[1.278274362638684e-15,-4.246603073437827e-15,0],"x":[16.84633487483844,-5.404067193990637,-1.5643726408832297]}],"shape":"circle"}]},{"conflicts":[1904,1903],"response":"trajectory","values":[{"dimensions":0.3,"id":1903,"segments":[{"t":249436,"v":[0,0,0],"x":[16.84633487483844,-5.404067193990636,-1.5643726587295532]},{"t":258735,"v":[0,0,0],"x":[16.84633487483844,-5.404067193990636,-1.5643726587295532]},{"t":259401,"v":[0.003211820867103254,-0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.5643726587295532]},{"t":261689,"v":[0.003211820867103254,-0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.5643726587295532]},{"t":262356,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.5643726587295532]},{"t":262656,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-1.6543726587295533]},{"t":264962,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-3.037850548050402]},{"t":265262,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-3.1278505480504015]},{"t":265928,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[16.689180237163363,-6.884084546864218,-3.1278505480504015]},{"t":275671,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[11.818246896502632,-6.963611185747893,-3.1278505480504015]},{"t":276338,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-3.1278505480504015]},{"t":276638,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-3.0378505480504017]},{"t":278870,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-1.6985789473059278]},{"t":279170,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-1.6085789473059282]},{"t":279837,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.645306833719362,-7.132879672805035,-1.6085789473059282]},{"t":283652,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.573243095223296,-9.039297049223038,-1.6085789473059282]},{"t":284319,"v":[-1.7069678995076942e-15,5.828670876367736e-16,0],"x":[11.566947489911431,-9.20584476950625,-1.6085789473059282]}],"shape":"circle"},{"dimensions":0.3,"id":1904,"segments":[{"t":249436,"v":[0.4999527894260443,0.006870836511221926,0],"x":[16.18029053673847,-6.8906476261949985,-3.1278505480504015]},{"t":250453,"v":[0.4999527893768024,0.006870836510545718,0],"x":[16.6891737648425,-6.883654058927136,-3.1278505480504015]},{"t":251120,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-3.1278505480504015]},{"t":251420,"v":[0,0,0.6],"x":[16.85582469463477,-6.881363780090288,-3.0378505480504017]},{"t":253726,"v":[0,0,0.6],"x":[16.85582469463477,-6.881363780090288,-1.6543726408832296]},{"t":254026,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.5643726408832297]},{"t":254692,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.5643726408832297]},{"t":256980,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.5643726408832297]},{"t":257647,"v":[1.278274362638684e-15,-4.246603073437827e-15,0],"x":[16.84633487483844,-5.404067193990637,-1.5643726408832297]}],"shape":"circle"}]},{"conflicts":[1907,1906],"response":"trajectory","values":[{"dimensions":0.3,"id":1907,"segments":[{"t":259858,"v":[-0.0032118208663443754,0.4999896839820836,0],"x":[16.85349747577927,-6.519081614135527,-1.5643726408832297]},{"t":261754,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.5643726408832297]},{"t":262421,"v":[1.278274362638684e-15,-4.246603073437827e-15,0],"x":[16.84633487483844,-5.404067193990637,-1.5643726408832297]}],"shape":"circle"},{"dimensions":0.3,"id":1906,"segments":[{"t":259858,"v":[0.0032118208664763444,-0.4999896840026444,0],"x":[16.848400854350075,-5.725681781516822,-1.5643726587295532]},{"t":261836,"v":[0.003211820867103254,-0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.5643726587295532]},{"t":262502,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.5643726587295532]},{"t":262802,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-1.6543726587295533]},{"t":265108,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-3.037850548050402]},{"t":265408,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-3.1278505480504015]},{"t":266075,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[16.689180237163363,-6.884084546864218,-3.1278505480504015]},{"t":275818,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[11.818246896502632,-6.963611185747893,-3.1278505480504015]},{"t":276485,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-3.1278505480504015]},{"t":276785,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-3.0378505480504017]},{"t":279017,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-1.6985789473059278]},{"t":279317,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-1.6085789473059282]},{"t":279983,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.645306833719362,-7.132879672805035,-1.6085789473059282]},{"t":283799,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.573243095223296,-9.039297049223038,-1.6085789473059282]},{"t":284466,"v":[-1.7069678995076942e-15,5.828670876367736e-16,0],"x":[11.566947489911431,-9.20584476950625,-1.6085789473059282]}],"shape":"circle"}]},{"conflicts":[1907,1906],"response":"trajectory","values":[{"dimensions":0.3,"id":1906,"segments":[{"t":267277,"v":[-0.4999333723957843,-0.008162300321487053,0],"x":[16.0883643931634,-6.893893932729247,-3.1278505480504015]},{"t":275818,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[11.818246896502632,-6.963611185747893,-3.1278505480504015]},{"t":276485,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-3.1278505480504015]},{"t":276785,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-3.0378505480504017]},{"t":279017,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-1.6985789473059278]},{"t":279317,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-1.6085789473059282]},{"t":279983,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.645306833719362,-7.132879672805035,-1.6085789473059282]},{"t":283799,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.573243095223296,-9.039297049223038,-1.6085789473059282]},{"t":284466,"v":[-1.7069678995076942e-15,5.828670876367736e-16,0],"x":[11.566947489911431,-9.20584476950625,-1.6085789473059282]}],"shape":"circle"}]},{"conflicts":[],"response":"trajectory","values":[{"dimensions":0.3,"id":1955,"segments":[{"t":271788,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.570629596710205]},{"t":280777,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.570629596710205]},{"t":281444,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.570629596710205]},{"t":283732,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.570629596710205]},{"t":284399,"v":[1.278274362638684e-15,-4.246603073437827e-15,0],"x":[16.84633487483844,-5.404067193990637,-1.570629596710205]}],"shape":"circle"},{"dimensions":0.3,"id":1954,"segments":[{"t":271788,"v":[-0.4999333723792078,-0.008162300321216218,0],"x":[15.282970764877057,-6.907043414308325,-3.1278505480504015]},{"t":278718,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[11.818246896502632,-6.963611185747893,-3.1278505480504015]},{"t":279385,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-3.1278505480504015]},{"t":279685,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-3.0378505480504017]},{"t":281917,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-1.6985789473059278]},{"t":282217,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-1.6085789473059282]},{"t":282883,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.645306833719362,-7.132879672805035,-1.6085789473059282]},{"t":286699,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.573243095223296,-9.039297049223038,-1.6085789473059282]},{"t":287366,"v":[-1.7069678995076942e-15,5.828670876367736e-16,0],"x":[11.566947489911431,-9.20584476950625,-1.6085789473059282]}],"shape":"circle"}]},{"conflicts":[1980,1979],"response":"trajectory","values":[{"dimensions":0.3,"id":1980,"segments":[{"t":291521,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.570629596710205]},{"t":296856,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.570629596710205]},{"t":297522,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.570629596710205]},{"t":299810,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.570629596710205]},{"t":300477,"v":[1.278274362638684e-15,-4.246603073437827e-15,0],"x":[16.84633487483844,-5.404067193990637,-1.570629596710205]}],"shape":"circle"},{"dimensions":0.3,"id":1979,"segments":[{"t":291521,"v":[0,0,0],"x":[16.84633487483844,-5.404067193990636,-1.5644471645355225]},{"t":298117,"v":[0,0,0],"x":[16.84633487483844,-5.404067193990636,-1.5644471645355225]},{"t":298783,"v":[0.003211820867103254,-0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,-1.5644471645355225]},{"t":301071,"v":[0.003211820867103254,-0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.5644471645355225]},{"t":301738,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.5644471645355225]},{"t":302038,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-1.6544471645355225]},{"t":304343,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-3.0378505480504017]},{"t":304643,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-3.1278505480504015]},{"t":305310,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[16.689180237163363,-6.884084546864218,-3.1278505480504015]},{"t":315053,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[11.818246896502632,-6.963611185747893,-3.1278505480504015]},{"t":315720,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-3.1278505480504015]},{"t":316020,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-3.0378505480504017]},{"t":318252,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-1.6985789473059278]},{"t":318552,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-1.6085789473059282]},{"t":319219,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.645306833719362,-7.132879672805035,-1.6085789473059282]},{"t":323034,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.573243095223296,-9.039297049223038,-1.6085789473059282]},{"t":323701,"v":[-1.7069678995076942e-15,5.828670876367736e-16,0],"x":[11.566947489911431,-9.20584476950625,-1.6085789473059282]}],"shape":"circle"}]},{"conflicts":[1989,1988],"response":"trajectory","values":[{"dimensions":0.3,"id":1989,"segments":[{"t":310351,"v":[0,0,0],"x":[18.7395242949738,-6.873981868527042,-3.1376738367181622]},{"t":312176,"v":[0,0,0],"x":[18.7395242949738,-6.873981868527042,-3.1376738367181622]},{"t":312843,"v":[-0.499996160723495,-0.001959403420672278,0],"x":[18.57285890806597,-6.874635003000599,-3.1376738367181622]},{"t":315944,"v":[-0.499996160723495,-0.001959403420672278,0],"x":[17.0224900815426,-6.88071064561673,-3.1376738367181622]},{"t":316610,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-3.1376738367181622]},{"t":316910,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,3.055511470461424]},{"t":319224,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,1.6672200127065633]},{"t":319524,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,1.5772200127065634]},{"t":320191,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,1.5772200127065634]},{"t":322479,"v":[-0.003211820867103254,0.4999896841002998,0],"x":[16.84740548179414,-5.57073042202407,1.5772200127065634]},{"t":323146,"v":[1.278274362638684e-15,-4.246603073437827e-15,0],"x":[16.84633487483844,-5.404067193990637,1.5772200127065634]}],"shape":"circle"},{"dimensions":0.3,"id":1988,"segments":[{"t":310351,"v":[0.0032118208658522026,-0.4999896839052482,0],"x":[16.85201230352526,-6.287882292367029,-1.5644522905349731]},{"t":311204,"v":[0.003211820867103254,-0.4999896841002998,0],"x":[16.85475408767907,-6.714700552056854,-1.5644522905349731]},{"t":311871,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-1.5644522905349731]},{"t":312171,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-1.6544522905349732]},{"t":314476,"v":[0,0,-0.6],"x":[16.85582469463477,-6.881363780090288,-3.0378505480504017]},{"t":314776,"v":[0,0,0],"x":[16.85582469463477,-6.881363780090288,-3.1278505480504015]},{"t":315443,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[16.689180237163363,-6.884084546864218,-3.1278505480504015]},{"t":325186,"v":[-0.49993337241422175,-0.008162300321788229,0],"x":[11.818246896502632,-6.963611185747893,-3.1278505480504015]},{"t":325853,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-3.1278505480504015]},{"t":326153,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-3.0378505480504017]},{"t":328385,"v":[0,0,0.6],"x":[11.651602439031224,-6.966331952521823,-1.6985789473059278]},{"t":328685,"v":[0,0,0],"x":[11.651602439031224,-6.966331952521823,-1.6085789473059282]},{"t":329352,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.645306833719362,-7.132879672805035,-1.6085789473059282]},{"t":333167,"v":[-0.01888681593558913,-0.4996431608496359,0],"x":[11.573243095223296,-9.039297049223038,-1.6085789473059282]},{"t":333834,"v":[-1.7069678995076942e-15,5.828670876367736e-16,0],"x":[11.566947489911431,-9.20584476950625,-1.6085789473059282]}],"shape":"circle"}]}]')},84:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(8),r=n.n(a),o=n(16),i=n(85),c=n.n(i),l=n(86),s=n.n(l);function u(){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark((function t(){var n,a,o,i,l,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=8;break;case 3:o=t.sent,n=o.readFileSync("".concat(e,"/office.png")),a=o.readFileSync("".concat(e,"/airport_terminal.png")),t.next=24;break;case 8:return t.next=10,fetch(s.a);case 10:return i=t.sent,t.t0=Uint8Array,t.next=14,i.arrayBuffer();case 14:return t.t1=t.sent,n=new t.t0(t.t1),t.next=18,fetch(c.a);case 18:return l=t.sent,t.t2=Uint8Array,t.next=22,l.arrayBuffer();case 22:t.t3=t.sent,a=new t.t2(t.t3);case 24:return u=[{name:"main_door",door_name:"main_door",v1_x:8.2,v1_y:-5.5,v2_x:7.85,v2_y:-6.2,door_type:2,motion_range:-1.571,motion_direction:1},{name:"hardware_door",door_name:"hardware_door",v1_x:4.9,v1_y:-4,v2_x:4.4,v2_y:-5,door_type:1,motion_range:1.571,motion_direction:-1},{name:"coe_door",door_name:"coe_door",v1_x:19.5,v1_y:-10.8,v2_x:19.5,v2_y:-9.9,door_type:1,motion_range:1.571,motion_direction:1},{name:"exit_door",door_name:"exit_door",v1_x:12.2,v1_y:-2.7,v2_x:14.1,v2_y:-2.7,door_type:1,motion_range:-1.571,motion_direction:1}],d=[{name:"Lift1",doors:[{name:"lift1_front_door",door_name:"lift1_front_door",v1_x:8.8,v1_y:-2.3,v2_x:7.7,v2_y:-4.5,door_type:1,motion_range:0,motion_direction:1}],levels:["L1","L2","L3"],ref_x:7.1,ref_y:-2.8,ref_yaw:26,width:2.5,depth:2.5,wall_graph:{name:"wallgraph",vertices:[],edges:[],params:[]}},{name:"Lift2",doors:[{name:"lift2_front_door",door_name:"lift2_front_door",v1_x:8.95,v1_y:-12.38,v2_x:10.08,v2_y:-12.38,door_type:1,motion_range:0,motion_direction:1}],levels:["L1","L2","L3","L4"],ref_x:9.5,ref_y:-13,ref_yaw:1.571,width:1,depth:1,wall_graph:{name:"wallgraph",vertices:[],edges:[],params:[]}},{name:"mysterious_lift",doors:[],levels:["L1","L2","L3","L4"],ref_x:22,ref_y:-10,ref_yaw:1.571,width:1,depth:1,wall_graph:{name:"wallgraph",vertices:[],edges:[],params:[]}}],t.abrupt("return",{name:"test building",levels:[{name:"L1",elevation:0,images:[{data:n,encoding:"png",name:"office",scale:.008465494960546494,x_offset:0,y_offset:0,yaw:0}],places:[{name:"Place1",x:2,y:-2,yaw:0,position_tolerance:0,yaw_tolerance:0},{name:"Place2",x:8,y:-4,yaw:0,position_tolerance:0,yaw_tolerance:0}],doors:u,nav_graphs:[],wall_graph:{name:"wallgraph",vertices:[],edges:[],params:[]}},{name:"Airport Terminal",elevation:10,doors:[],images:[{data:a,encoding:"png",name:"airport_terminal",scale:.08212187141180038,x_offset:0,y_offset:0,yaw:0}],nav_graphs:[],places:[],wall_graph:{name:"wallgraph",vertices:[],edges:[],params:[]}}],lifts:d});case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,"/")},85:function(e,t,n){e.exports=n.p+"static/media/airport_terminal.f7ab7134.png"},86:function(e,t,n){e.exports=n.p+"static/media/office.73533f75.png"},96:function(e,t,n){e.exports=n(125)}},[[96,1,2]]]);
//# sourceMappingURL=main.1f3f3ca4.chunk.js.map